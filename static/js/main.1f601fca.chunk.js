(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{17:function(e,t,n){e.exports=n.p+"static/media/ie6.39ebec55.png"},18:function(e,t,n){e.exports=n.p+"static/media/logo.e42fe8a0.png"},20:function(e,t,n){e.exports=n(32)},25:function(e,t,n){},27:function(e,t,n){},32:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(16),s=n.n(o),c=(n(25),n(2)),i=n(3),u=n(6),l=n(4),d=n(5),m=(n(27),n(7)),h=n.n(m),y=n(11),p=n(10),f=n(1),k=(n(31),n(8)),E=n(12),v=n(19),w=n(9),b=n.n(w),K=function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){b.a&&(this.initVoiceRecognition(),b.a.start({autoRestart:!0,paused:!1,continuous:!1}),b.a.debug())}},{key:"componentDidUpdate",value:function(){var e=this.props.rom,t=e.commands,n=e.commandsLanguage;this.initVoiceRecognition(t,n)}},{key:"initVoiceRecognition",value:function(){var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.DEFAULT_LANGUAGE;b.a.removeCommands();var a={};if(n){var o=function(){var e=Object(p.a)(h.a.mark(function e(t,n){var r;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r=0;case 1:if(!(r<t.length)){e.next=7;break}return e.next=4,n(t[r],r,t);case 4:r++,e.next=1;break;case 7:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}();a=Object.entries(n).reduce(function(t,n){var r=Object(k.a)(n,2),a=r[0],s=r[1],c=function(){var t=Object(p.a)(h.a.mark(function t(){return h.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o(s,function(t){var n=Object(v.a)(t),r=n[0],a=n.slice(1);return"function"===typeof r?r(a):e[r](a)});case 2:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}();return Object(y.a)({},t,Object(E.a)({},a,c))},{})}else a={left:function(){return e.keyPress([t.KEY_LEFT])},right:function(){return e.keyPress([t.KEY_RIGHT])},up:function(){return e.keyPress([t.KEY_UP])},down:function(){return e.keyPress([t.KEY_DOWN])},select:function(){return e.keyPress([t.KEY_SELECT])},start:function(){return e.keyPress([t.KEY_START])},a:function(){return e.keyPress([t.KEY_A])},b:function(){return e.keyPress([t.KEY_B])}};b.a.addCommands(a),b.a.setLanguage(r)}},{key:"keyPress",value:function(){var e=Object(p.a)(h.a.mark(function e(t){var n,r,a,o,s=this;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object(k.a)(t,2),r=n[0],a=n[1],o=void 0===a?150:a,this.keyHold([r]),e.abrupt("return",new Promise(function(e){window.setTimeout(function(){s.keyRelease([r]),e()},o)}));case 3:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"keyHold",value:function(e){var t=Object(k.a)(e,1)[0];document.dispatchEvent(new KeyboardEvent("keydown",t))}},{key:"keyRelease",value:function(e){var t=Object(k.a)(e,1)[0];document.dispatchEvent(new KeyboardEvent("keyup",t))}},{key:"delay",value:function(e){var t=Object(k.a)(e,1)[0];return new Promise(function(e){return setTimeout(function(){return e()},t)})}},{key:"render",value:function(){var e=this.props.rom;if(!e)return null;var t=e.commands;return t?a.a.createElement("div",{className:"command-list"},a.a.createElement("span",null,"Available commands: "),a.a.createElement("ul",null,Object.keys(t).map(function(e){return a.a.createElement("li",{key:e},'"',e,'"')}))):null}}]),t}(r.PureComponent);K.DEFAULT_LANGUAGE="en-US",K.KEY_LEFT={key:"ArrowLeft",charCode:0,code:"ArrowLeft",keyCode:37,which:37},K.KEY_UP={key:"ArrowUp",charCode:0,code:"ArrowUp",keyCode:38,which:38},K.KEY_DOWN={key:"ArrowDown",charCode:0,code:"ArrowDown",keyCode:40,which:40},K.KEY_RIGHT={key:"ArrowRight",charCode:0,code:"ArrowRight",keyCode:39,which:39},K.KEY_SELECT={key:" ",charCode:0,code:"Space",keyCode:32,which:32},K.KEY_START={key:"Enter",charCode:0,code:"Enter",keyCode:13,which:13},K.KEY_A={key:"x",charCode:0,code:"KeyX",keyCode:88,which:88},K.KEY_B={key:"z",charCode:0,code:"KeyZ",keyCode:90,which:90};var O={memory:{name:"memory",file:"memory.nes",commands:{9:[["keyPress",K.KEY_UP],["keyPress",K.KEY_RIGHT]],7:[["keyPress",K.KEY_UP],["keyPress",K.KEY_LEFT]],1:[["keyPress",K.KEY_DOWN],["keyPress",K.KEY_LEFT]],3:[["keyPress",K.KEY_DOWN],["keyPress",K.KEY_RIGHT]],left:[["keyPress",K.KEY_LEFT]],right:[["keyPress",K.KEY_RIGHT]],up:[["keyPress",K.KEY_UP]],down:[["keyPress",K.KEY_DOWN]],start:[["keyPress",K.KEY_START]],see:[["keyPress",K.KEY_A]]}},2048:{name:"2048",file:"2048.nes",commands:{left:[["keyPress",K.KEY_LEFT]],right:[["keyPress",K.KEY_RIGHT]],up:[["keyPress",K.KEY_UP]],down:[["keyPress",K.KEY_DOWN]],select:[["keyPress",K.KEY_SELECT]],start:[["keyPress",K.KEY_START]],"konami code":[[function(){return alert("\u2191\u2191\u2193\u2193\u2190\u2192\u2190\u2192\u24b7\u24b6")}]]},commandsLanguage:"en"},"2048pl":{name:"2048 - PL",file:"2048.nes",commands:{lewo:[["keyPress",K.KEY_LEFT]],prawo:[["keyPress",K.KEY_RIGHT]],"g\xf3ra":[["keyPress",K.KEY_UP]],"d\xf3\u0142":[["keyPress",K.KEY_DOWN]],start:[["keyPress",K.KEY_START]]},commandsLanguage:"pl"}},j=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(u.a)(this,Object(l.a)(t).call(this,e))).state={rom:null},n.onRomChange=n.onRomChange.bind(Object(f.a)(Object(f.a)(n))),n}return Object(d.a)(t,e),Object(i.a)(t,[{key:"onRomChange",value:function(e){var t=e.target.value,n=O[t];n&&this.props.onRomSelect(n)}},{key:"render",value:function(){return a.a.createElement("div",{className:"rom-loader"},a.a.createElement("select",{onChange:this.onRomChange},a.a.createElement("option",{key:"select",defaultValue:!0,value:null},"Please select rom"),Object.entries(O).sort().map(function(e){var t=Object(k.a)(e,2),n=t[0],r=t[1];return a.a.createElement("option",{key:n,value:n},r.name)})))}}]),t}(r.PureComponent),P=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(u.a)(this,Object(l.a)(t).call(this,e))).nes=null,n.canvas=a.a.createRef(),n.state={rom:null},n.loadRom=n.loadRom.bind(Object(f.a)(Object(f.a)(n))),n.onKeyDown=n.onKeyDown.bind(Object(f.a)(Object(f.a)(n))),n.onKeyUp=n.onKeyUp.bind(Object(f.a)(Object(f.a)(n))),n}return Object(d.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this.canvas.current;this.initNes(e)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.onKeyDown,!1),document.removeEventListener("keyup",this.onKeyUp,!1)}},{key:"initNes",value:function(e){var t=window.NesJs,n=new t.Nes;n.setDisplay(new t.Display(e)),n.setAudio(new t.Audio),document.addEventListener("keydown",this.onKeyDown,!1),document.addEventListener("keyup",this.onKeyUp,!1),this.nes=n}},{key:"onKeyDown",value:function(e){this.nes.handleKeyDown(e)}},{key:"onKeyUp",value:function(e){this.nes.handleKeyUp(e)}},{key:"loadRom",value:function(){var e=Object(p.a)(h.a.mark(function e(t){var n,r,a,o,s,c;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState(function(e){return Object(y.a)({},e,{rom:t})}),n=window,r=n.NesJs,a="./roms/".concat(t.file),e.next=5,fetch(a);case 5:return o=e.sent,e.next=8,o.arrayBuffer();case 8:s=e.sent,c=new r.Rom(s),this.nes.setRom(c),this.nes.bootup(),this.nes.run();case 13:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){return a.a.createElement("div",{className:"nes"},a.a.createElement("div",{className:"tv",style:{height:this.props.height+40,width:this.props.width+250}},a.a.createElement("canvas",{ref:this.canvas,id:this.props.displayId,style:{width:this.props.width,height:this.props.height}})),a.a.createElement(j,{onRomSelect:this.loadRom}),a.a.createElement(K,{rom:this.state.rom}))}}]),t}(r.PureComponent);P.defaultProps={displayId:"display"};var g=n(17),_=n.n(g),Y=n(18),R=n.n(Y),C=function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return a.a.createElement("header",null,a.a.createElement("img",{src:R.a,alt:"logo",className:"logo"}),a.a.createElement("span",null,"sponsored by"),a.a.createElement("img",{src:_.a,alt:"ie6"}),a.a.createElement("span",{className:"right"},a.a.createElement("a",{href:"http://www.cutercounter.com/",target:"_blank",rel:"noopener noreferrer"},a.a.createElement("img",{src:"http://www.cutercounter.com/hit.php?id=grmacoqo&nd=6&style=24",border:"0",alt:"website counter"}))))}}]),t}(r.PureComponent),T=function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return a.a.createElement("div",{className:"App"},a.a.createElement(C,null),a.a.createElement(P,{width:512,height:480}))}}]),t}(r.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(a.a.createElement(T,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[20,2,1]]]);
//# sourceMappingURL=main.1f601fca.chunk.js.map